import{W as K,r as p,j as a}from"./app-Dua9E37O.js";import{D as _}from"./DragAndDropBox-BCqaq1xY.js";import{I as c}from"./InputError-ByHvJBQW.js";import{I as m}from"./InputLabel-CKWKhzbh.js";import{P as X}from"./PrimaryButton-HjmmXOXh.js";import{S}from"./SelectInput-ByoqYoTU.js";import{T as f}from"./TextInput-DGpXq45j.js";import{P as Z}from"./Phase2FormDetails-DZKGLnqW.js";import $ from"./CustomerDashboard-B2alh1Ve.js";import{F as aa,l as ea}from"./index-DB2y4TTu.js";import"./index-V2IMY_GO.js";import"./Modal-BH2AXVDb.js";import"./transition-DG8urZhM.js";import"./SecondaryButton-CWqNjcUs.js";import"./DangerButton-CY9V5gMY.js";import"./StepFromLayout-bBpf2Itg.js";import"./index-D8bVqLcy.js";import"./index-C_BJzd5s.js";import"./floating-ui.dom-DGhbMe_T.js";import"./ResponsiveNavLink-ByNM-lV1.js";import"./FounderAuthenticatedLayout-GP-4rY9Y.js";import"./ApplicationLogo-BgesrP0X.js";import"./add-more-LctGyofc.js";function Sa({auth:x,company_info:N,step:A,registration_completed_step:k,foundersList:v,job_titles:E,education_qualification:I,company_count:P}){const{data:sa,setData:o,post:ta,put:D,errors:i,progress:la}=K({foundersList:v}),[r,d]=p.useState(v);p.useState(null);const[U,M]=p.useState([{name:"Select Your Job Title",value:null}]),[Q,T]=p.useState([{name:"Select Your Education Qualification",value:null}]);p.useEffect(()=>{console.log(v);const s=E.map(n=>n.title?{name:n.title,value:n.title}:null).filter(Boolean),l=[{name:"Select Your Job Title",value:null},...s];M(l);const t=I.map(n=>n.title?{name:n.title,value:n.title}:null).filter(Boolean),e=[{name:"Select Your Education Qualification",value:null},...t];T(e),h()},[v]);const[b,L]=p.useState(0),O=()=>{h(),D(route("founder.dashboard.shareholder-detailsstore",N.id))},h=async()=>{const s=v.map((l,t)=>{const e=r[t];return l.father_name=e.father_name?e.father_name:l.father_name,l.mother_name=e.mother_name?e.mother_name:l.mother_name,l.manager=e.manager?e.manager:l.manager,l.religion=e.religion?e.religion:l.religion,l.visa_status=parseInt(e.visa_status)?parseInt(e.visa_status):l.visa_status,l.marital_status=e.marital_status?e.marital_status:l.marital_status,l.job_title=e.job_title?e.job_title:l.job_title,l.educational_qualification=e.educational_qualification?e.educational_qualification:l.educational_qualification,l.country_status=e.country_status?e.country_status:l.country_status,l.basic_salary=e.basic_salary?e.basic_salary:l.basic_salary,l.transportation_allowance=e.transportation_allowance?e.transportation_allowance:l.transportation_allowance,l.accommodation_allowance=e.accommodation_allowance?e.accommodation_allowance:l.accommodation_allowance,l.other_allowances=e.other_allowances?e.other_allowances:l.other_allowances,l});o("foundersList",s),d(s)},V=s=>{L(s===b?0:s)},g=async(s,l)=>{const t=r.map(e=>{if(e.id===l){let n=e.manager;n=="No Manager"&&(n="");let u=n?n.split(","):[];return u.includes(s)?s==n?(u=[],u.push("No Manager")):u=u.filter(H=>H!==s):u.push(s),n=u.length?u.join(","):"No Manager",e={...e,manager:n},e}return e});d(t),o("foundersList",t)},j=async(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,visa_status:parseInt(l)}),e));d(t),o("foundersList",t)},C=async(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,country_status:l}),e));d(t),o("foundersList",t)},y=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,religion:l}),e));d(t),o("foundersList",t)},w=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,marital_status:l}),e));d(t),o("foundersList",t)},q=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,job_title:l}),e));d(t),o("foundersList",t)},B=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,educational_qualification:l}),e));d(t),o("foundersList",t)},J=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,father_name:l}),e));d(t),o("foundersList",t)},R=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,mother_name:l}),e));d(t),o("foundersList",t)},Y=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,basic_salary:l}),e));d(t),o("foundersList",t)},z=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,transportation_allowance:l}),e));d(t),o("foundersList",t)},W=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,accommodation_allowance:l}),e));d(t),o("foundersList",t)},G=(s,l)=>{const t=r.map(e=>(e.id===s&&(e={...e,other_allowances:l}),e));d(t),o("foundersList",t)},F=(s,l)=>{let t=!1;return r.map(e=>(e.id===l&&(t=e.manager.split(",").map(u=>u.trim()).includes(s)),e)),t};return a.jsx($,{auth:x,company_count:P,children:a.jsx(Z,{registration_completed_step:k,step:A,name:x.user.name,children:a.jsxs("div",{className:"flex flex-col w-full",children:[Object.keys(i).length?a.jsx("div",{className:"text-red-500",children:"Please fill complete details for each shareholders."}):a.jsx(a.Fragment,{}),r.map((s,l)=>a.jsxs("div",{className:"flex flex-col w-full border-t border-gray-300 founders founder-item",children:[a.jsxs("div",{className:"flex items-center justify-between w-full py-3 founder-acc-title",onClick:()=>{V(l+1)},children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("h3",{className:"text-lg font-bold text-green-500",children:[s.first_name+" "+s.last_name," "]}),a.jsxs("span",{className:"text-lg text-green-500",children:["(Shareholder ",l+1,")"]})]})," ",a.jsx(aa,{icon:ea,style:{height:24,width:24}})]}),b==l+1?a.jsxs("div",{className:"founder-acc-form",children:[a.jsx("div",{className:"flex flex-col w-full h-full py-6",children:a.jsxs("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:[a.jsxs("div",{className:"flex py-2 border-t border-b border-gray-300",children:[a.jsx("div",{className:"w-full text-center",children:a.jsx(m,{htmlFor:"founder_role_director",className:"text-base ",value:"Director"})}),a.jsx("div",{className:"w-full text-center",children:a.jsx(m,{htmlFor:"founder_role_secretary",className:"text-base ",value:"Secretary"})}),a.jsx("div",{className:"w-full text-center",children:a.jsx(m,{htmlFor:"founder_role_manager",className:"text-base ",value:"Manager"})})]}),a.jsxs("div",{className:"flex py-4 border-b border-gray-300",children:[a.jsx("div",{className:"w-full text-center",children:a.jsx("input",{id:"founder_role_director",name:"founder_role",onChange:t=>g(t.target.value,s.id),checked:F("Director",s.id),type:"checkbox",value:"Director",className:"w-5 h-5 text-green-400 border-gray-300 rounded focus:ring-green-600"})}),a.jsx("div",{className:"w-full text-center",children:a.jsx("input",{id:"founder_role_secretary",name:"founder_role",onChange:t=>g(t.target.value,s.id),checked:F("Secretary",s.id),type:"checkbox",value:"Secretary",className:"w-5 h-5 text-green-400 border-gray-300 rounded focus:ring-green-600"})}),a.jsx("div",{className:"w-full text-center",children:a.jsx("input",{id:"founder_role_manager",name:"founder_role",onChange:t=>g(t.target.value,s.id),checked:F("Manager",s.id),type:"checkbox",value:"Manager",className:"w-5 h-5 text-green-400 border-gray-300 rounded focus:ring-green-600"})})]})]})}),a.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx("h2",{className:"text-2xl font-extrabold",children:"Valid Passport Copy"}),a.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Upload a clear, scanned copy of your valid passport."})]}),a.jsxs("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:[a.jsx(_,{company_info:N,updatedocument:()=>h(),document_type:"Valid Passport Copy",auth:x,uploaded_document_file:s.documentValidPassportCopyFileUrl,uploaded_document_file_name:s.documentValidPassportCopyFileName,founder_id:s.id}),a.jsx(c,{message:i["foundersList."+l+".documentValidPassportCopyFileName"],className:"mt-2"})]})]}),a.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsxs("div",{className:"flex gap-2 items-bottom",children:[a.jsx("h2",{className:"text-2xl font-extrabold",children:"UAE Visa Page"}),a.jsx("p",{className:"m-0 mt-2 text-black text-md",children:"(If Applicable)"})]}),a.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Upload a clear copy of your UAE visa page if you hold a UAE residence visa."})]}),a.jsxs("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:[a.jsx(_,{company_info:N,updatedocument:()=>h(),document_type:"UAE Visa Page",auth:x,uploaded_document_file:s.documentUAEVisaPageFileUrl,uploaded_document_file_name:s.documentUAEVisaPageFileName,founder_id:s.id}),a.jsx(c,{message:i["foundersList."+l+".documentUAEVisaPageFileName"],className:"mt-2"})]})]}),a.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx("h2",{className:"text-2xl font-extrabold",children:"Address Proof Copy"}),a.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Upload a document confirming your full residential address, dated within the last 3 months. Accepted documents include a utility bills, bank statement, or government ID. PO Box addresses are not accepted."})]}),a.jsxs("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:[a.jsx(_,{company_info:N,updatedocument:()=>h(),document_type:"Address Proof Copy",auth:x,uploaded_document_file:s.documentAddressProofCopyFileUrl,uploaded_document_file_name:s.documentAddressProofCopyFileName,founder_id:s.id}),a.jsx(c,{message:i["foundersList."+l+".documentAddressProofCopyFileName"],className:"mt-2"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx(m,{htmlFor:"visa_status",className:"text-base ",value:"Do you require visa for this stakeholder?"}),a.jsxs("div",{className:"flex mt-4 mb-4",children:[a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"visa_status",value:"1",id:"yes",checked:parseInt(s.visa_status)===1,className:"radio-btn",onChange:t=>j(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"yes",children:"Yes"})]}),a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"visa_status",value:"-1",id:"no",checked:parseInt(s.visa_status)===-1,className:"radio-btn",onChange:t=>j(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"no",children:"No"})]}),a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"visa_status",value:"0",id:"later",checked:parseInt(s.visa_status)===0||s.visa_status==null,className:"radio-btn",onChange:t=>j(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"later",children:"Later"})]})]})]}),s.visa_status===1?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mt-4",children:[a.jsx(m,{htmlFor:"type_of_freezone",className:"text-base ",value:"What’s the current visa status of stakeholder inside or outside the country?"}),a.jsxs("div",{className:"flex mt-4 mb-4",children:[a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"type_of_freezone",value:"Outside",id:"outside",checked:s.country_status==="Outside",className:"radio-btn",onChange:t=>C(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"outside",children:"Outside"})]}),a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"type_of_freezone",value:"Inside",id:"inside",checked:s.country_status==="Inside",className:"radio-btn",onChange:t=>C(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"inside",children:"Inside"})]})]}),a.jsx(c,{message:i["foundersList."+l+".country_status"],className:"mt-2"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx(m,{htmlFor:"religion",className:"text-base ",value:"Select the Religion"}),a.jsxs("div",{className:"flex mt-4 mb-4",children:[a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"religion",value:"Islam: Shia",id:"islam_shia",checked:s.religion==="Islam: Shia",className:"radio-btn",onChange:t=>y(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"islam_shia",children:"Islam: Shia"})]}),a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"religion",value:"Islam: Sunni",id:"islam_sunni",checked:s.religion==="Islam: Sunni",className:"radio-btn",onChange:t=>y(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"islam_sunni",children:"Islam: Sunni"})]}),a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"religion",value:"Other",id:"other",checked:s.religion==="Other",className:"radio-btn",onChange:t=>y(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"other",children:"Other"})]})]}),a.jsx(c,{message:i["foundersList."+l+".religion"],className:"mt-2"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx(m,{htmlFor:"marital_status",className:"text-base ",value:"Marital Status"}),a.jsxs("div",{className:"flex mt-4 mb-4",children:[a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"marital_status",value:"Single",id:"single",checked:s.marital_status==="Single",className:"radio-btn",onChange:t=>w(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"single",children:"Single"})]}),a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"marital_status",value:"Married",id:"married",checked:s.marital_status==="Married",className:"radio-btn",onChange:t=>w(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"married",children:"Married"})]}),a.jsxs("div",{className:"col-auto",children:[a.jsx("input",{type:"radio",name:"marital_status",value:"Divorced",id:"divorced",checked:s.marital_status==="Divorced",className:"radio-btn",onChange:t=>w(s.id,t.target.value)}),a.jsx("label",{className:"radio-btn-input",htmlFor:"divorced",children:"Divorced"})]})]}),a.jsx(c,{message:i["foundersList."+l+".marital_status"],className:"mt-2"})]}),a.jsx("div",{className:"flex flex-col w-full h-full py-6",children:a.jsx("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:a.jsxs("p",{className:"mt-2 rounded-sm col-12 col-md-12",children:[a.jsx(m,{htmlFor:"father_name",className:"text-base ",value:"Father's Name"}),a.jsx(f,{id:"father_name",name:"father_name",value:s.father_name,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"father_name",placeholder:"Father’s Name",isFocused:!1,onChange:t=>J(s.id,t.target.value)}),a.jsx(c,{message:i["foundersList."+l+".father_name"],className:"mt-2"})]})})}),a.jsx("div",{className:"flex flex-col w-full h-full py-6",children:a.jsx("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:a.jsxs("p",{className:"mt-2 rounded-sm col-12 col-md-12",children:[a.jsx(m,{htmlFor:"mother_name",className:"text-base ",value:"Mother's Name"}),a.jsx(f,{id:"mother_name",name:"mother_name",value:s.mother_name,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"mother_name",placeholder:"Mother’s Name",isFocused:!1,onChange:t=>R(s.id,t.target.value)}),a.jsx(c,{message:i["foundersList."+l+".mother_name"],className:"mt-2"})]})})}),a.jsxs("div",{className:"mt-4",children:[a.jsx(m,{htmlFor:"religion",className:"text-base ",value:"Job Title"}),a.jsx("div",{className:"flex mt-4 mb-4",children:a.jsx(S,{dropdown:U,selectedvalue:s.job_title,onChange:t=>{q(s.id,t.target.value)}})}),a.jsx(c,{message:i["foundersList."+l+".job_title"],className:"mt-2"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx(m,{htmlFor:"religion",className:"text-base ",value:"Education Qualification"}),a.jsx("div",{className:"flex mt-4 mb-4",children:a.jsx(S,{dropdown:Q,selectedvalue:s.educational_qualification,onChange:t=>{B(s.id,t.target.value)}})}),a.jsx(c,{message:i["foundersList."+l+".educational_qualification"],className:"mt-2"})]}),a.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx("h2",{className:"text-2xl font-extrabold",children:"Educational Qualification"}),a.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Upload proof of your educational qualifications."})]}),a.jsxs("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:[a.jsx(_,{company_info:N,updatedocument:()=>h(),document_type:"Educational Qualification",auth:x,uploaded_document_file:s.documentEducationalQualificationFileUrl,uploaded_document_file_name:s.documentEducationalQualificationFileName,founder_id:s.id}),a.jsx(c,{message:i["foundersList."+l+".documentEducationalQualificationFileName"],className:"mt-2"})]})]}),a.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx("h2",{className:"text-2xl font-extrabold",children:"Monthly Salary Breakdown (AED)"}),a.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Provide a detailed breakdown of your monthly salary, including all allowances."})]}),a.jsxs("div",{className:"flex flex-col justify-start w-full h-full gap-2 flex-nowrap",children:[a.jsxs("div",{className:"flex flex-wrap py-4 monthly-salary-breakdown",children:[a.jsx("div",{className:"w-1/2",children:"Name"}),a.jsx("div",{className:"w-1/2",children:"Amount"})]}),a.jsxs("div",{className:"flex flex-wrap",children:[a.jsx("div",{className:"w-1/2",children:a.jsx("div",{className:"",children:"Basic Salary"})}),a.jsx("div",{className:"w-1/2",children:a.jsxs("div",{className:"",children:[a.jsx(f,{id:"basic_salary",name:"basic_salary",value:s.basic_salary,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"basic_salary",placeholder:"Basic Salary",isFocused:!1,onChange:t=>Y(s.id,t.target.value)}),a.jsx(c,{message:i["foundersList."+l+".basic_salary"],className:"mt-2"})]})})]}),a.jsxs("div",{className:"flex flex-wrap",children:[a.jsx("div",{className:"w-1/2",children:a.jsx("div",{className:"",children:"Transportation Allowance"})}),a.jsx("div",{className:"w-1/2",children:a.jsxs("div",{className:"",children:[a.jsx(f,{id:"transportation_allowance",name:"transportation_allowance",value:s.transportation_allowance,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"transportation_allowance",placeholder:"Transportation Allowance",isFocused:!1,onChange:t=>z(s.id,t.target.value)}),a.jsx(c,{message:i["foundersList."+l+".transportation_allowance"],className:"mt-2"})]})})]}),a.jsxs("div",{className:"flex flex-wrap",children:[a.jsx("div",{className:"w-1/2",children:a.jsx("div",{className:"",children:"Accommodation Allowance"})}),a.jsx("div",{className:"w-1/2",children:a.jsxs("div",{className:"",children:[a.jsx(f,{id:"accommodation_allowance",name:"accommodation_allowance",value:s.accommodation_allowance,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"accommodation_allowance",placeholder:"Accommodation Allowance",isFocused:!1,onChange:t=>W(s.id,t.target.value)}),a.jsx(c,{message:i["foundersList."+l+".accommodation_allowance"],className:"mt-2"})]})})]}),a.jsxs("div",{className:"flex flex-wrap",children:[a.jsx("div",{className:"w-1/2",children:a.jsx("div",{className:"",children:"Other Allowances"})}),a.jsx("div",{className:"w-1/2",children:a.jsxs("div",{className:"",children:[a.jsx(f,{id:"other_allowances",name:"other_allowances",value:s.other_allowances,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"other_allowances",placeholder:"Other Allowances",isFocused:!1,onChange:t=>G(s.id,t.target.value)}),a.jsx(c,{message:i["foundersList."+l+".other_allowances"],className:"mt-2"})]})})]})]})]})]}):a.jsx(a.Fragment,{}),a.jsx(X,{className:"justify-center w-auto my-8 text-center",onClick:()=>{O()},children:"Save & Continue"})]}):a.jsx(a.Fragment,{})]},l))]})})})}export{Sa as default};
