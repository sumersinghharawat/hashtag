import{W as D,r as o,j as e}from"./app-Dua9E37O.js";import"./SelectInput-ByoqYoTU.js";import E from"./Dashboard-DatwvVPW.js";import{ApplicationLayout as q}from"./ApplicationLayout-ZYWLnT7R.js";import{M as A}from"./Modal-BH2AXVDb.js";import{I as M}from"./InputLabel-CKWKhzbh.js";import{T as P}from"./TextareaInput-CxZk8yxh.js";import{I as L}from"./InputError-ByHvJBQW.js";import{S as T}from"./SecondaryButton-CWqNjcUs.js";import{F as h,f}from"./index-DB2y4TTu.js";import"./AuthenticatedLayout-IZYydvq6.js";import"./ApplicationLogo-BgesrP0X.js";import"./ResponsiveNavLink-ByNM-lV1.js";import"./transition-DG8urZhM.js";import"./ApplicationHeader-CjB_Va0g.js";import"./index-D8bVqLcy.js";function de({auth:x,company_info:d,children:B}){const{data:n,setData:w,post:G,put:y,processing:C,errors:R,reset:O}=D({application_form_field_id:null,description:null,status:null}),[F,v]=o.useState(!1),[s,k]=o.useState({}),[t,I]=o.useState({}),[l,V]=o.useState({}),[r,_]=o.useState({}),[a,S]=o.useState({});o.useEffect(()=>{d==null||d.application_fields.forEach(c=>{const{application_form_field_name:N,application_form_field_value:m,id:u,varification_status:p,agent_id:g,description:j}=c;switch(N){case"company_name_1":k({id:u,value:m,status:p,agent_id:g,description:j});break;case"company_name_2":I({id:u,value:m,status:p,agent_id:g,description:j});break;case"company_name_3":V({id:u,value:m,status:p,agent_id:g,description:j});break;case"industry":_({id:u,value:m,status:p,agent_id:g,description:j});break;case"description":S({id:u,value:m,status:p,agent_id:g,description:j});break}})},[d]);const i=(c,N)=>{n.status=c,n.application_form_field_id=N,n.description=null,v(!0)},b=()=>{v(!1)},U=c=>{c.preventDefault(),w("description",c.target.value),y(route("admin.dashboard.viewrequestupdate",{id:d.id}),{onSuccess:()=>{b()}})};return e.jsxs(E,{auth:x.user,children:[e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-4",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-10",children:e.jsxs("div",{className:"flex flex-col justify-between px-4 sm:px-0",children:[e.jsxs("div",{className:"w-4/5",children:[e.jsx("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Applicant Information"}),e.jsx("p",{className:"max-w-2xl mt-1 text-sm leading-6 text-gray-500",children:"Personal details and application."})]}),e.jsx(q,{company_id:d==null?void 0:d.id,rejected_fields_count:d==null?void 0:d.rejected_fields_count,children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"w-full font-semibold",children:"Company Name 1"}),e.jsx("div",{className:"w-full",children:s.value}),s.status==="Rejected"?e.jsxs("p",{className:"w-full text-yellow-500",children:[e.jsx(h,{icon:f,className:"w-2 h-2 p-1 text-sm text-white bg-yellow-500 rounded-full"})," ",s.description," "]}):""]}),e.jsx("div",{className:"w-1/2",children:e.jsx("div",{className:"flex justify-end gap-2",children:x.user.id!==parseInt(s.agent_id)?e.jsx(e.Fragment,{children:s.status==="Under Review"?e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg bg-yellow-500",children:s.status}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(s.status==="Verified"?" bg-green-600":" bg-red-600"),children:s.status})}):e.jsx(e.Fragment,{children:s.status==="Under Review"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 py-2 m-2 text-green-100 bg-green-600 rounded-lg",onClick:()=>i("Verified",s.id),children:"Confirm"}),e.jsx("button",{className:"px-4 py-2 m-2 text-red-100 bg-red-600 rounded-lg",onClick:()=>i("Rejected",s.id),children:"Rejected"})]}):e.jsx(e.Fragment,{children:e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(s.status==="Verified"?" bg-green-600":" bg-red-600"),children:s.status})})})})})]},s.id),e.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"w-full font-semibold",children:"Company Name 2"}),e.jsx("div",{className:"w-full",children:t.value}),t.status==="Rejected"?e.jsxs("p",{className:"w-full text-yellow-500",children:[e.jsx(h,{icon:f,className:"w-2 h-2 p-1 text-sm text-white bg-yellow-500 rounded-full"})," ",t.description," "]}):""]}),e.jsx("div",{className:"w-1/2",children:e.jsx("div",{className:"flex justify-end gap-2",children:x.user.id!==parseInt(t.agent_id)?e.jsx(e.Fragment,{children:t.status==="Under Review"?e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg bg-yellow-500",children:t.status}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(t.status==="Verified"?" bg-green-600":" bg-red-600"),children:t.status})}):e.jsx(e.Fragment,{children:t.status==="Under Review"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 py-2 m-2 text-green-100 bg-green-600 rounded-lg",onClick:()=>i("Verified",t.id),children:"Confirm"}),e.jsx("button",{className:"px-4 py-2 m-2 text-red-100 bg-red-600 rounded-lg",onClick:()=>i("Rejected",t.id),children:"Rejected"})]}):e.jsx(e.Fragment,{children:e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(t.status==="Verified"?" bg-green-600":" bg-red-600"),children:t.status})})})})})]},t.id),e.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"w-full font-semibold",children:"Company Name 3"}),e.jsx("div",{className:"w-full",children:l.value}),l.status==="Rejected"?e.jsxs("p",{className:"w-full text-yellow-500",children:[e.jsx(h,{icon:f,className:"w-2 h-2 p-1 text-sm text-white bg-yellow-500 rounded-full"})," ",l.description," "]}):""]}),e.jsx("div",{className:"w-1/2",children:e.jsx("div",{className:"flex justify-end gap-2",children:x.user.id!==parseInt(l.agent_id)?e.jsx(e.Fragment,{children:l.status==="Under Review"?e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg bg-yellow-500",children:l.status}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(l.status==="Verified"?" bg-green-600":" bg-red-600"),children:l.status})}):e.jsx(e.Fragment,{children:l.status==="Under Review"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 py-2 m-2 text-green-100 bg-green-600 rounded-lg",onClick:()=>i("Verified",l.id),children:"Confirm"}),e.jsx("button",{className:"px-4 py-2 m-2 text-red-100 bg-red-600 rounded-lg",onClick:()=>i("Rejected",l.id),children:"Rejected"})]}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(l.status==="Verified"?" bg-green-600":" bg-red-600"),children:l.status})})})})]},l.id),e.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"w-full font-semibold",children:"Industry"}),e.jsx("div",{className:"w-full",children:r.value}),r.status==="Rejected"?e.jsxs("p",{className:"w-full text-yellow-500",children:[e.jsx(h,{icon:f,className:"w-2 h-2 p-1 text-sm text-white bg-yellow-500 rounded-full"})," ",r.description," "]}):""]}),e.jsx("div",{className:"w-1/2",children:e.jsx("div",{className:"flex justify-end gap-2",children:x.user.id!==parseInt(r.agent_id)?e.jsx(e.Fragment,{children:r.status==="Under Review"?e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg bg-yellow-500",children:r.status}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(r.status==="Verified"?" bg-green-600":" bg-red-600"),children:r.status})}):e.jsx(e.Fragment,{children:r.status==="Under Review"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 py-2 m-2 text-green-100 bg-green-600 rounded-lg",onClick:()=>i("Verified",r.id),children:"Confirm"}),e.jsx("button",{className:"px-4 py-2 m-2 text-red-100 bg-red-600 rounded-lg",onClick:()=>i("Rejected",r.id),children:"Rejected"})]}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(r.status==="Verified"?" bg-green-600":" bg-red-600"),children:r.status})})})})]},r.id),e.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"w-full font-semibold",children:"Description"}),e.jsx("div",{className:"w-full",children:a.value}),a.status==="Rejected"?e.jsxs("p",{className:"w-full text-yellow-500",children:[e.jsx(h,{icon:f,className:"w-2 h-2 p-1 text-sm text-white bg-yellow-500 rounded-full"})," ",a.description," "]}):""]}),e.jsx("div",{className:"w-1/2",children:e.jsx("div",{className:"flex justify-end gap-2",children:x.user.id!==parseInt(a.agent_id)?e.jsx(e.Fragment,{children:a.status==="Under Review"?e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg bg-yellow-500",children:a.status}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(a.status==="Verified"?" bg-green-600":" bg-red-600"),children:a.status})}):e.jsx(e.Fragment,{children:a.status==="Under Review"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-4 py-2 m-2 text-green-100 bg-green-600 rounded-lg",onClick:()=>i("Verified",a.id),children:"Confirm"}),e.jsx("button",{className:"px-4 py-2 m-2 text-red-100 bg-red-600 rounded-lg",onClick:()=>i("Rejected",a.id),children:"Rejected"})]}):e.jsx("p",{className:"px-4 py-2 m-2 text-green-100 rounded-lg"+(a.status==="Verified"?" bg-green-600":" bg-red-600"),children:a.status})})})})]},a.id)]})})]})})})})}),e.jsx(A,{show:F,onClose:b,children:e.jsxs("form",{onSubmit:U,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to change the status?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.status=="Verified"?"Please confirm that you want to approve this request.":"Please enter your reason to Rejected this request."}),n.status=="Rejected"?e.jsxs("div",{className:"mt-6",children:[e.jsx(M,{htmlFor:"password",value:"Password",className:"sr-only"}),e.jsx(P,{id:"description",name:"description",value:n.description?n.description:"",onChange:c=>w("description",c.target.value),required:!0,autoFocus:!0,className:"block w-full mt-1",autoComplete:"current-description",placeholder:"Description"}),e.jsx(L,{message:R.company_status,className:"mt-2"})]}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(T,{onClick:b,children:"Cancel"}),e.jsx("button",{className:"ms-3 py-4 px-6 rounded-full text-white "+(n.status=="Rejected"?"bg-red-600":"bg-secondary"),disabled:C,children:n.status})]})]})})]})}export{de as default};
