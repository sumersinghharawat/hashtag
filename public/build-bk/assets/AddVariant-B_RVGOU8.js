import{W as b,r as d,j as e,y as o}from"./app-Dua9E37O.js";import N from"./Dashboard-DatwvVPW.js";import{S as x}from"./SecondaryButton-CWqNjcUs.js";import{I as m}from"./InputLabel-CKWKhzbh.js";import{T as c}from"./TextInput-DGpXq45j.js";import{I as r}from"./InputError-ByHvJBQW.js";import{P as w}from"./PrimaryButton-HjmmXOXh.js";import{T as V}from"./TextareaInput-CxZk8yxh.js";import{S as C}from"./SelectInput-ByoqYoTU.js";import"./AuthenticatedLayout-IZYydvq6.js";import"./ApplicationLogo-BgesrP0X.js";import"./ResponsiveNavLink-ByNM-lV1.js";import"./transition-DG8urZhM.js";function z({auth:u,packageofproduct:l,variantofproduct:s}){const{data:a,setData:t,put:p,post:h,processing:j,errors:n,reset:k}=b({description:s?s.description:"",price:s!=null&&s.price?s.price:0,discount_price:s!=null&&s.discount_price?s.discount_price:0,variant_type:s?s.variant_type:"",title:s?s.title:"",visa_count:s!=null&&s.visa_count?s.visa_count:0}),[v,T]=d.useState([{name:"Select Variant Type",value:null},{name:"License",value:"license"},{name:"Visa",value:"visa"}]);d.useEffect(()=>{console.log(l),t("title",a.variant_type=="visa"?a.visa_count+" Visa Cost":a.title)},[]);const _=i=>{i.preventDefault(),l&&s?p(route("admin.dashboard.updatevariantofproduct",{package_id:l.id,id:s.id})):h(route("admin.dashboard.storevariantofproduct",{package_id:l.id}))},g=()=>{o.get(route("admin.dashboard.variantofproduct",{package_id:l.id}))},y=()=>{o.get(route("admin.dashboard.packagesofproduct"))};return e.jsx(N,{auth:u,children:e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-4",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"flex flex-row",children:e.jsxs("div",{className:"flex flex-col justify-between w-full p-6 border-r-2 border-gray-200",children:[e.jsxs("div",{className:"flex justify-between mb-10",children:[e.jsxs("h2",{className:"text-4xl",children:[s?"Edit":"Add"," Variant"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{onClick:y,children:"View Packages"}),e.jsx(x,{onClick:g,children:"View Variant"})]})]}),e.jsx("div",{className:"mb-10",children:e.jsxs("p",{className:"p-2 text-yellow-500 bg-yellow-100 rounded",children:["This variant ",s?"Edit":"Add"," for ",l.title]})}),e.jsx("div",{className:"mb-10",children:e.jsx("div",{className:"relative w-full m-auto overflow-x-auto",children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"variant_types",value:"Variant Type"}),e.jsx(C,{id:"variant_types",name:"variant_types",selectedvalue:a.variant_type,className:"block w-full mt-1",autoComplete:"variant_types",dropdown:v,onChange:i=>t("variant_type",i.target.value)}),e.jsx(r,{message:n.variant_type,className:"mt-2"})]}),a.variant_type=="visa"?e.jsxs("div",{children:[e.jsx(m,{htmlFor:"visa_count",value:"Visa Count"}),e.jsx(c,{type:"number",id:"visa_count",name:"visa_count",value:a.visa_count,className:"block w-full mt-1",autoComplete:"visa_count",onChange:i=>t("visa_count",i.target.value)}),e.jsx(r,{message:n.visa_count,className:"mt-2"})]}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:a.variant_type=="visa"?"hidden":"",children:[e.jsx(m,{htmlFor:"title",value:"Variant Title"}),e.jsx(c,{id:"title",name:"title",value:a.title,className:"block w-full mt-1",autoComplete:"title",onChange:i=>t("title",i.target.value)}),e.jsx(r,{message:n.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price",value:"Variant Price"}),e.jsx(c,{type:"number",id:"price",name:"price",value:a.price,className:"block w-full mt-1",autoComplete:"price",onChange:i=>t("price",i.target.value)}),e.jsx(r,{message:n.price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"discount_price",value:"Variant Discount Price"}),e.jsx(c,{type:"number",id:"discount_price",name:"discount_price",value:a.discount_price,className:"block w-full mt-1",autoComplete:"discount_price",onChange:i=>t("discount_price",i.target.value)}),e.jsx(r,{message:n.discount_price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",value:"Variant description"}),e.jsx(V,{id:"description",name:"description",className:"block w-full mt-1",autoComplete:"description",onChange:i=>t("description",i.target.value),children:a.description}),e.jsx(r,{message:n.description,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(w,{className:"ms-4",disabled:j,children:"Submit"})})]})})})]})})})})})})}export{z as default};
