import{W as N,r as c,j as e,y as b}from"./app-Dua9E37O.js";import{P as _}from"./PrimaryButton-HjmmXOXh.js";import{S}from"./SecondaryButton-CWqNjcUs.js";import"./TextInput-DGpXq45j.js";import{S as w}from"./StepFormLayout-vbgq4JfO.js";import C from"./CustomerDashboard-B2alh1Ve.js";import"./index-DB2y4TTu.js";import"./index-V2IMY_GO.js";import"./index-C_BJzd5s.js";import"./index-D8bVqLcy.js";import"./floating-ui.dom-DGhbMe_T.js";import"./ResponsiveNavLink-ByNM-lV1.js";import"./transition-DG8urZhM.js";import"./FounderAuthenticatedLayout-GP-4rY9Y.js";import"./ApplicationLogo-BgesrP0X.js";import"./add-more-LctGyofc.js";function Q({auth:x,step:f,foundersList:n,registration_completed_step:h,company_info:m,company_count:v}){const{data:a,setData:V,post:j,processing:F,errors:k,reset:E}=N({first_name:"",last_name:"",founders_list:[],visastatus:!0,company_id:m.id}),[o,u]=c.useState(n),[D,l]=c.useState(0);c.useEffect(()=>{const t=n;u(t);var r=t.reduce((i,s)=>i+s.visa_status,0);l(r)},[n]);const p=t=>{t.preventDefault(),a.founders_list=o,j(route("founder.dashboard.foundersvisastore",a.company_id))},g=()=>{console.log(a),b.get(route("founder.dashboard.foundersdetail",a.company_id))},y=t=>{var r=o.map(s=>{var d=parseInt(s.visa_status)?0:1;return s.id===t&&(s={...s,visa_status:d}),s}),i=r.reduce((s,d)=>s+d.visa_status,0);u(r),l(i)};return e.jsx(C,{auth:x,company_count:v,children:e.jsxs(w,{step:f,filledSteps:h,company_id:m.id,children:[e.jsx("h2",{className:"text-2xl font-extrabold",children:"Visa"}),e.jsx("p",{className:"mt-4 mb-6 text-sm text-gray-500",children:"Select the founders that require UAE Visa or Emirates ID"}),e.jsxs("form",{onSubmit:p,className:"",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center h-16 border-t border-b border-gray-300 md:h-8",children:[e.jsx("div",{className:"w-2/3 text-base font-medium",children:"Founderâ€™s Name"}),e.jsx("div",{className:"w-1/3 text-base font-medium text-center",children:"Visa / Emirates ID"})]}),o.map((t,r)=>e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("div",{className:"w-2/3 p-4 bg-white border border-gray-300 rounded",children:t.first_name+" "+t.last_name}),e.jsx("div",{align:"center",className:"w-1/3 ",children:e.jsx("div",{className:"relative flex justify-center gap-x-3",children:e.jsx("div",{className:"flex items-center h-6",children:e.jsx("input",{id:"manager",name:"manager",onChange:i=>y(t.id),checked:parseInt(t.visa_status),type:"checkbox",className:"w-5 h-5 text-green-400 border-gray-300 rounded focus:ring-green-400"})})})})]},r))]}),e.jsxs("div",{className:"flex items-center justify-start gap-2 pt-10 border-t border-gray-300",children:[e.jsx(S,{className:"justify-center text-center",onClick:g,children:"Back"}),e.jsx(_,{className:"justify-center w-full text-center",onClick:p,children:"Continue"})]})]})]})})}export{Q as default};
