import{W as D,r as y,j as e}from"./app-Dua9E37O.js";import E from"./CustomerDashboard-B2alh1Ve.js";import"./index-DB2y4TTu.js";import"./index-V2IMY_GO.js";import{P as T}from"./PrimaryButton-HjmmXOXh.js";import{P as A}from"./Phase2FormDetails-DZKGLnqW.js";import{T as p}from"./TextInput-DGpXq45j.js";import{I as f}from"./InputError-ByHvJBQW.js";import{T as M}from"./TextareaInput-CxZk8yxh.js";import V from"./FoundersListPhase2-DLFIeHKB.js";import{AddFoundersForm as O}from"./AddFoundersForm-BulZ8dKG.js";import"./ResponsiveNavLink-ByNM-lV1.js";import"./transition-DG8urZhM.js";import"./FounderAuthenticatedLayout-GP-4rY9Y.js";import"./ApplicationLogo-BgesrP0X.js";import"./add-more-LctGyofc.js";import"./index-D8bVqLcy.js";import"./index-C_BJzd5s.js";import"./floating-ui.dom-DGhbMe_T.js";import"./StepFromLayout-bBpf2Itg.js";import"./InputLabel-CKWKhzbh.js";function de({auth:N,company_info:r,step:v,registration_completed_step:w,foundersList:u,listindusties:x,totalSplits:_,company_count:j}){const{data:o,setData:l,post:q,put:b,processing:B,errors:d,reset:R}=D({company_id:r?r.id:"",company_name_1:r?r.company_name_1:"",company_name_2:r?r.company_name_2:"",company_name_3:r?r.company_name_3:"",company_industry:r?r.industry:"",company_description:r.description?r.description:"",foundersList:u||null}),[h,g]=y.useState(0),[c,i]=y.useState(u);y.useEffect(()=>{console.log(x),l("company_industry",r.industry?r.industry:"");const a=u.map(s=>(s.ownership_percentage===null&&(s={...s,ownership_percentage:0}),s));var t=parseInt(_);g(t),i(a)},[r]);const C=a=>{Array.from(x).map(s=>s.name.toLowerCase()).includes(a.target.value.toLowerCase())?(d.company_industry="",l("company_industry",a.target.value)):(d.company_industry="Please choose a browser from the list.",l("company_industry",a.target.value))},F=()=>{b(route("founder.dashboard.review-registrationstore",r.id))},I=(a,t)=>{if(t<0)return 0;var s=0;const n=c.map(m=>m.id===a?(m={...m,ownership_percentage:parseInt(t)},s=parseInt(s||0)+parseInt(m.ownership_percentage?m.ownership_percentage:0),m):(s=parseInt(s||0)+parseInt(m.ownership_percentage?m.ownership_percentage:0),m));g(parseInt(s)),i(n),l("foundersList",n)},L=a=>{const t=c.map(s=>{var n=s.manager=="No Manager"?"Manager":"No Manager";return s.id===a&&(s={...s,manager:n}),s});i(t),l("foundersList",t)},S=a=>{var t=c.map(s=>{var n=s.visa_status?0:1;return s.id===a&&(s={...s,visa_status:n}),s});t.reduce((s,n)=>s+n.visa_status,0),i(t),l("foundersList",t)},k=(a,t)=>{var s=c.map(n=>(n.id===t&&(n={...n,first_name:a}),n));i(s),l("foundersList",s)},P=(a,t)=>{var s=c.map(n=>(n.id===t&&(n={...n,last_name:a}),n));i(s),l("foundersList",s)};return e.jsx(E,{auth:N,company_count:j,children:e.jsx(A,{registration_completed_step:w,step:v,name:N.user.name,children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("h2",{className:"text-2xl font-extrabold",children:"Company Name"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Please enter three name choices for your company in order of preference"})]}),e.jsxs("div",{className:"flex flex-col justify-start w-full h-full flex-nowrap",children:[e.jsx("p",{className:"text-black text-md",children:"Name Your Company"}),e.jsxs("p",{className:"mt-2 rounded-sm col-12 col-md-12",children:[e.jsx(p,{id:"company_name",name:"company_name_1",value:o.company_name_1,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"company_name",placeholder:"Company Name Preference 1",isFocused:!1,onChange:a=>l("company_name_1",a.target.value)}),e.jsx(f,{message:d.company_name_1,className:"mt-2"})]}),e.jsxs("p",{className:"mt-2 rounded-sm col-12 col-md-12",children:[e.jsx(p,{id:"company_name",name:"company_name_2",value:o.company_name_2,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"company_name",placeholder:"Company Name Preference 2",isFocused:!1,onChange:a=>l("company_name_2",a.target.value)}),e.jsx(f,{message:d.company_name_2,className:"mt-2"})]}),e.jsxs("p",{className:"mt-2 rounded-sm col-12 col-md-12",children:[e.jsx(p,{id:"company_name",name:"company_name_3",value:o.company_name_3,className:"block w-full py-4 mt-2 bg-transparent",autoComplete:"company_name",placeholder:"Company Name Preference 3",isFocused:!1,onChange:a=>l("company_name_3",a.target.value)}),e.jsx(f,{message:d.company_name_3,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("h2",{className:"text-2xl font-extrabold",children:"Company Details"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Please select your industry and enter the description about your company"})]}),e.jsx("div",{className:"flex flex-col justify-start w-full h-full",children:e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsxs("div",{className:"flex flex-col items-center py-2",children:[e.jsx("div",{className:"w-full font-semibold",children:"Company Industry"}),e.jsxs("div",{className:"w-full",children:[e.jsx("select",{className:"block w-full p-4 mt-1 bg-transparent border-gray-300 rounded",value:o.company_industry,autoComplete:"off",placeholder:"Company Industry",id:"company_description",name:"company_description",onChange:a=>C(a),children:x?x.map((a,t)=>a.name?e.jsx("option",{value:t==0?"":a.name,children:a.name},a.name):e.jsx(e.Fragment,{})):e.jsx(e.Fragment,{})}),e.jsx(f,{message:d.company_industry,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex flex-wrap py-2",children:[e.jsx("div",{className:"w-full font-semibold",children:"Description"}),e.jsx("div",{className:"w-full",children:e.jsx(M,{rows:"4",id:"company_description",name:"company_description",value:o.company_description,className:"block w-full py-4 mt-1 bg-transparent",autoComplete:"company_description",placeholder:"Company Description",isFocused:!1,onChange:a=>l("company_description",a.target.value)})})]})]})})]}),e.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:e.jsxs("div",{className:"w-full md:w-3/6",children:[e.jsx("h2",{className:"text-2xl font-extrabold",children:"Founders & Ownership"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Enter the legal name of the founders, split the company between the founders and select managers"})]})}),e.jsx("div",{className:"flex items-center justify-between w-full",children:e.jsxs("div",{className:"w-full md:w-full",children:[e.jsx(O,{company_info:r}),e.jsxs("div",{className:"flex items-center justify-between pb-4 mt-10",children:[e.jsx("p",{className:"font-bold",children:"Split the ownership between the founders"}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("div",{className:"w-auto text-center border px-4 rounded"+(h==100?" border-green-500 text-green-500 bg-green-200":" border-red-500 text-red-500 bg-red-200"),children:e.jsxs("span",{children:[h,"% out of 100%"]})})})]}),e.jsx(V,{founderSplitList:c,updateSplit:I,updateManager:L,company_id:r.id,company_info:r})]})})]}),e.jsxs("div",{className:"flex flex-col w-full h-full py-6",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:e.jsxs("div",{className:"w-full md:w-3/6",children:[e.jsx("h2",{className:"text-2xl font-extrabold",children:"Visa"}),e.jsx("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:"Select the founders that require UAE Visa or Emirates ID"})]})}),e.jsx("div",{className:"w-full mt-2 founder-list",children:e.jsxs("div",{className:"pb-4 mt-4 rounded-lg",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center h-16 border-t border-b border-gray-300 md:h-8",children:[e.jsx("div",{className:"w-2/3 text-base font-medium",children:"Founderâ€™s Name"}),e.jsx("div",{className:"w-1/3 text-base font-medium text-center",children:"Visa / Emirates ID"})]}),c.map((a,t)=>e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("div",{className:"w-2/3 border-gray-300 rounded",children:e.jsxs("p",{className:"flex gap-2 mt-2 rounded-sm col-12 col-md-12",children:[e.jsx(p,{id:"first-name",name:"first-name",value:a.first_name,className:"block w-full py-4 mt-2 bg-transparent",placeholder:"First Name",onChange:s=>k(s.target.value,a.id)}),e.jsx(p,{id:"last-name",name:"last-name",value:a.last_name,className:"block w-full py-4 mt-2 bg-transparent",placeholder:"Last",onChange:s=>P(s.target.value,a.id)})]})}),e.jsx("div",{align:"center",className:"w-1/3 ",children:e.jsx("div",{className:"relative flex justify-center gap-x-3",children:e.jsx("div",{className:"flex items-center h-6",children:e.jsx("input",{id:"manager",name:"manager",onChange:s=>S(a.id),checked:parseInt(a.visa_status),type:"checkbox",className:"w-5 h-5 text-green-400 border-gray-300 rounded focus:ring-green-400"})})})})]},t))]}),e.jsx(T,{className:"justify-center w-full mt-8 text-center",onClick:()=>{F()},disabled:h!=100,children:"Save & Continue"})]})})]})]})})})}export{de as default};
